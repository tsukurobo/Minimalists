{
    "version": "2.0.0",
    "tasks": [
      {
        "label": "Compile Project",
        "type": "process",
        "isBuildCommand": true,
        "command": "${userHome}/.pico-sdk/ninja/v1.12.1/ninja",
        "args": ["-C", "${workspaceFolder}/build"],
        "group": "build",
        "presentation": {
          "reveal": "always",
          "panel": "dedicated"
        },
        "problemMatcher": "$gcc",
        "windows": {
          "command": "${env:USERPROFILE}/.pico-sdk/ninja/v1.12.1/ninja.exe"
        }
      },
      {
        "label": "Run Project",
        "type": "process",
        "command": "${env:HOME}/.pico-sdk/picotool/2.1.1/picotool/picotool",
        "args": [
          "load",
          "${command:raspberry-pi-pico.launchTargetPath}",
          "-fx"
        ],
        "presentation": {
          "reveal": "always",
          "panel": "dedicated"
        },
        "problemMatcher": [],
        "windows": {
          "command": "${env:USERPROFILE}/.pico-sdk/picotool/2.1.1/picotool/picotool.exe"
        }
      },
      {
        "label": "Flash",
        "type": "process",
        "command": "${userHome}/.pico-sdk/openocd/0.12.0+dev/openocd.exe",
        "args": [
          "-s",
          "${userHome}/.pico-sdk/openocd/0.12.0+dev/scripts",
          "-f",
          "interface/cmsis-dap.cfg",
          "-f",
          "target/${command:raspberry-pi-pico.getTarget}.cfg",
          "-c",
          "adapter speed 5000; program \"${command:raspberry-pi-pico.launchTargetPath}\" verify reset exit"
        ],
        "problemMatcher": [],
        "windows": {
          "command": "${env:USERPROFILE}/.pico-sdk/openocd/0.12.0+dev/openocd.exe"
        }
      },
      {
        "label": "Run PID Simulation",
        "type": "shell",
        "command": "python",
        "args": ["pid_simulation.py"],
        "options": {
          "cwd": "${workspaceFolder}/test"
        },
        "group": "test",
        "presentation": {
          "echo": true,
          "reveal": "always",
          "focus": false,
          "panel": "shared"
        },
        "problemMatcher": []
      },
      {
        "label": "Run PID Simulation (with config)",
        "type": "shell",
        "command": "python",
        "args": [
          "pid_simulation.py",
          "--config",
          "pid_config.json",
          "--save-plots"
        ],
        "options": {
          "cwd": "${workspaceFolder}/test"
        },
        "group": "test",
        "presentation": {
          "echo": true,
          "reveal": "always",
          "focus": false,
          "panel": "shared"
        },
        "problemMatcher": []
      },
      {
        "label": "Install Python Requirements",
        "type": "shell",
        "command": "python",
        "args": ["-m", "pip", "install", "-r", "test/requirements.txt"],
        "group": "build",
        "presentation": {
          "echo": true,
          "reveal": "always",
          "focus": false,
          "panel": "shared"
        },
        "problemMatcher": []
      }
    ]
}
